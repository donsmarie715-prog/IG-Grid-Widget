<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Instagram Grid Widget</title>
  <meta name="color-scheme" content="light dark" />
  <style>
    :root { --bg: #fff; --fg: #111; --muted:#666; --chip:#f3f3f4; --card:#fafafa; --pill:#222; --pillfg:#fff; }
    @media (prefers-color-scheme: dark){
      :root{ --bg:#0b0b0c; --fg:#f3f3f4; --muted:#9EA0A6; --chip:#18191c; --card:#131416; --pill:#2a2b2f; --pillfg:#f3f3f4; }
    }
    *{ box-sizing:border-box }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:var(--bg); color:var(--fg);
    }

    header{
      display:flex; align-items:center; gap:16px;
      padding:22px 20px 14px;
      position: sticky; top:0; background:var(--bg); z-index:10;
    }
    h1{ font-size:28px; margin:0; font-weight:800; letter-spacing:.2px; }

    .controls{ margin-left:auto; display:flex; align-items:center; gap:12px; }

    /* platform icon group */
    .seg{
      display:flex; gap:8px; padding:6px; border-radius:28px; background:var(--chip);
    }
    .seg button{
      width:36px; height:36px; border-radius:18px; border:0; background:transparent;
      display:grid; place-items:center; cursor:pointer; color:var(--muted);
    }
    .seg button.active{ background:var(--fg); color:var(--bg); }
    .seg svg{ width:18px; height:18px; }

    select, .btn{
      padding:9px 12px; border-radius:12px; border:1px solid #d8d8de22; background:var(--chip);
      color:var(--fg); font-weight:600; cursor:pointer;
    }
    .btn{ display:flex; align-items:center; gap:8px; }

    /* grid */
    #grid{
      display:grid; grid-template-columns: repeat(auto-fill, minmax(260px,1fr));
      gap:18px; padding:6px 20px 28px;
    }
    .card{
      position:relative; background:var(--card); border-radius:16px; overflow:hidden;
      box-shadow: 0 1px 0 rgba(0,0,0,.04), 0 10px 24px rgba(0,0,0,.06);
    }
    .card img{
      width:100%; aspect-ratio: 1 / 1; object-fit:cover; display:block; background:#e8e8eb;
    }
    .title{
      padding:10px 14px; font-weight:700; font-size:15px; letter-spacing:.2px;
    }

    /* badges */
    .date{
      position:absolute; top:10px; left:10px;
      background:rgba(0,0,0,.7); color:#fff; font-size:12px; padding:6px 8px; border-radius:8px;
      backdrop-filter: blur(4px);
    }
    .pill{
      position:absolute; bottom:10px; left:10px;
      background:var(--pill); color:var(--pillfg); font-size:12px; padding:6px 10px; border-radius:999px;
      opacity:.95;
    }

    /* loading skeletons */
    .skeleton{
      height:100%; aspect-ratio: 1 / 1; border-radius:16px;
      background: linear-gradient(90deg, #e9eaec 0%, #f2f3f5 40%, #e9eaec 80%);
      background-size:200% 100%; animation: pulse 1s linear infinite;
    }
    @keyframes pulse{ 0%{background-position:0% 0%} 100%{background-position:200% 0%} }

    .empty, .error{ color:var(--muted); padding:10px 20px; }
  </style>
</head>
<body>
  <header>
    <h1>Instagram Grid Widget</h1>

    <div class="controls">

      <!-- Platform buttons -->
      <div class="seg" id="platformGroup">
        <!-- Grid / Feed -->
        <button type="button" class="platform-btn active" data-platform="">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M4 4h7v7H4zM13 4h7v7h-7zM4 13h7v7H4zM13 13h7v7h-7z"/>
          </svg>
        </button>
        <!-- Reels -->
        <button type="button" class="platform-btn" data-platform="Reels" title="Reels">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7zm8 1v8l6-4-6-4z"/></svg>
        </button>
        <!-- Stories / Camera -->
        <button type="button" class="platform-btn" data-platform="Stories" title="Stories">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 5a7 7 0 1 0 0 14A7 7 0 0 0 12 5zm0-3a10 10 0 1 1 0 20A10 10 0 0 1 12 2zm-1 5h2v2h-2V7zm1 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>
        </button>
      </div>

      <!-- Status filter -->
      <select id="statusFilter" aria-label="Status">
        <option value="">Any status</option>
        <option>To Start</option>
        <option>Scheduled</option>
        <option>Published</option>
        <option>Draft</option>
      </select>

      <!-- Refresh -->
      <button class="btn" id="refreshBtn" type="button" title="Refresh">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M12 6V3L8 7l4 4V8a5 5 0 1 1-4.9 6.1H5.05A7 7 0 1 0 12 6z"/>
        </svg>
        Refresh
      </button>
    </div>
  </header>

  <div id="grid" aria-live="polite">
    <!-- skeletons -->
    <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
    <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
  </div>

  <script src="./script.js" defer></script>
</body>
</html>
