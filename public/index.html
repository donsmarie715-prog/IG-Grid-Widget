<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Instagram Grid Widget</title>
  <style>
    :root { color-scheme: light dark; }
    body { font-family: system-ui, Arial, sans-serif; margin: 0; }
    header {
      display:flex; align-items:center; justify-content:space-between;
      padding:18px 20px; gap:12px;
    }
    .left { font-weight:700; font-size:clamp(20px,3vw,32px); }
    .right { display:flex; align-items:center; gap:12px; }

    .platform { display:inline-flex; background:#f0f0f0; border-radius:999px; padding:4px; gap:6px; }
    .platform-btn {
      width:36px; height:36px; border-radius:50%;
      display:grid; place-items:center; cursor:pointer; border:none; background:transparent;
    }
    .platform-btn.active { background:#111; color:#fff; }

    .btn, select { height:36px; padding:0 12px; border-radius:10px; border:1px solid #ddd; background:#fff; cursor:pointer; }
    .btn svg { vertical-align:-2px; }

    #grid {
      display:grid; grid-template-columns: repeat(auto-fill, minmax(260px,1fr));
      gap:18px; padding: 0 20px 40px;
    }
    .card { position:relative; background:#fff; border-radius:12px; overflow:hidden; border: 1px solid #eee; }
    .card img { width:100%; aspect-ratio:1/1; object-fit:cover; display:block; background:#eee; }
    .title {
      font-size:14px; padding:10px 12px; border-top:1px solid #eee; color:#444;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .badge {
      position:absolute; left:8px; bottom:8px; font-size:12px;
      background: rgba(0,0,0,.65); color:#fff; padding:4px 8px; border-radius:999px;
    }
    .empty, .error { padding: 8px 20px; color:#666; }
    .skeleton {
      width:100%; aspect-ratio:1/1; border-radius:12px;
      background: linear-gradient(90deg, #eee, #f5f5f5, #eee);
      background-size: 200% 100%; animation: pulse 1s linear infinite;
      border: 1px solid #eee;
    }
    @keyframes pulse { 0%{background-position:0% 0;} 100%{background-position:200% 0;} }
  </style>
</head>
<body>
  <header>
    <div class="left">Instagram Grid Widget</div>
    <div class="right">
      <!-- Platform icons -->
      <div class="platform" id="platformBar" role="tablist" aria-label="Platform filter">
        <button class="platform-btn active" data-platform=""   title="All" aria-label="All">
          <!-- grid icon -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"/></svg>
        </button>
        <button class="platform-btn" data-platform="Reel"  title="Reels" aria-label="Reels">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
        </button>
        <button class="platform-btn" data-platform="Photo" title="Photos" aria-label="Photos">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M21 19V5H3v14h18zm0-16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h18zM8.5 13.5l2.5 3.01 3.5-4.51L19 18H5l3.5-4.5z"/></svg>
        </button>
      </div>

      <!-- Status dropdown -->
      <select id="statusFilter" aria-label="Status filter">
        <option value="">Any status</option>
        <option>To Start</option>
        <option>Scheduled</option>
        <option>Draft</option>
        <option>Published</option>
      </select>

      <!-- Refresh -->
      <button class="btn" id="refreshBtn" aria-label="Refresh">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M17.65 6.35A7.95 7.95 0 0 0 12 4V1L7 6l5 5V7a6 6 0 1 1-6 6H4a8 8 0 1 0 13.65-6.65z"/>
        </svg>
        Refresh
      </button>
    </div>
  </header>

  <div id="grid" aria-live="polite">
    <!-- placeholders -->
    <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
    <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
  </div>

  <!-- defer = run after HTML is parsed -->
  <script defer src="/script.js"></script>
</body>
</html>
